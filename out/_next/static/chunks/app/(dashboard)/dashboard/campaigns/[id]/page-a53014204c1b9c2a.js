(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[551],{96635:function(e,s,a){Promise.resolve().then(a.bind(a,87351))},87351:function(e,s,a){"use strict";a.r(s),a.d(s,{CampaignDetail:function(){return CampaignDetail}});var l=a(57437),n=a(24866),r=a(70388),t=a(23611),i=a(49598),c=a(73067),d=a(53905),m=a(1295),x=a(25750),o=a(6141),p=a(2174),f=a(61396),h=a.n(f),u=a(70708),j=a(38122),N=a(21654);function WorkflowSequence(e){let{campaignId:s,emails:a,onReorder:n}=e;return(0,l.jsxs)(i.Zb,{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Email Sequence"}),(0,l.jsx)(j.Z5,{onDragEnd:e=>{if(!e.destination)return;let s=Array.from(a),[l]=s.splice(e.source.index,1);s.splice(e.destination.index,0,l),n(s)},children:(0,l.jsx)(j.bK,{droppableId:"emails",children:e=>(0,l.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-4",children:[a.map((e,a)=>(0,l.jsx)(j._l,{draggableId:e.id,index:a,children:n=>(0,l.jsxs)("div",{ref:n.innerRef,...n.draggableProps,className:"flex items-center gap-4 p-4 border rounded-lg bg-background",children:[(0,l.jsx)("div",{...n.dragHandleProps,className:"cursor-grab",children:(0,l.jsx)(N.Z,{className:"h-5 w-5 text-muted-foreground"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"font-medium",children:e.subject}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:0===a?"Sent immediately":"Sent ".concat(e.waitDays," days after previous email")})]}),(0,l.jsx)(t.z,{variant:"outline",size:"sm",asChild:!0,children:(0,l.jsxs)(h(),{href:"/dashboard/campaigns/".concat(s,"/email/").concat(e.id),children:[(0,l.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})},e.id)),e.placeholder]})})})]})}var g=a(2265);function CampaignDetail(e){var s;let{campaign:a}=e,[f,j]=(0,g.useState)((null===(s=a.emails)||void 0===s?void 0:s.map((e,s)=>({...e,id:s.toString()})))||[]);return(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(n.x,{campaignName:a.name}),(0,l.jsx)(r.r,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h2",{className:"text-2xl font-medium",children:a.name}),(0,l.jsx)(u.C,{variant:"outline",children:a.status})]}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"workflow"===a.type?"Workflow Campaign":"Broadcast Campaign"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(t.z,{variant:"outline",asChild:!0,children:(0,l.jsxs)(h(),{href:"/dashboard/campaigns",children:[(0,l.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Back to Campaigns"]})}),(0,l.jsx)(t.z,{variant:"outline",asChild:!0,children:(0,l.jsxs)(h(),{href:"/dashboard/campaigns/".concat(a.id,"/edit"),children:[(0,l.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Edit Campaign"]})})]})]}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsx)(i.Zb,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"Open Rate"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:a.stats.openRate})]})]})}),(0,l.jsx)(i.Zb,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(x.Z,{className:"h-5 w-5"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"Recipients"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:a.recipients})]})]})}),(0,l.jsx)(i.Zb,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(o.Z,{className:"h-5 w-5"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"Status"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:a.sentDate})]})]})}),(0,l.jsx)(i.Zb,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(p.Z,{className:"h-5 w-5"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"Click Rate"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:a.stats.clickRate})]})]})})]}),"workflow"===a.type&&f.length>0?(0,l.jsx)(WorkflowSequence,{campaignId:a.id,emails:f,onReorder:j}):"broadcast"===a.type&&(0,l.jsxs)(i.Zb,{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Email Content"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Subject"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:a.subject})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Content"}),(0,l.jsx)("p",{className:"text-muted-foreground whitespace-pre-wrap",children:a.content})]})]})]})]})})]})}},49598:function(e,s,a){"use strict";a.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return t},aY:function(){return m},eW:function(){return x},ll:function(){return c}});var l=a(57437),n=a(2265),r=a(81628);let t=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});t.displayName="Card";let i=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,l.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,l.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});d.displayName="CardDescription";let m=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...n})});m.displayName="CardContent";let x=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})});x.displayName="CardFooter"}},function(e){e.O(0,[338,579,700,390,600,944,315,971,472,744],function(){return e(e.s=96635)}),_N_E=e.O()}]);